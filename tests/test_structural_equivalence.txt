# Test: 4-positional structural equivalence on Little League (TI) network

# Delete any existing structures
deleteall()

# Set random seed
randomseed(6031769)

# Load matrix Little League TI
loadmatrix(file = "example_data/little_league_ti.txt", name = llti)

# Create a 4-positional blockimage with nul and com blocks
bi4se = blockimage(size = 4, type = structural)

# Initialize the search: use ljubljana search algorithm and hamming distances
bminit(network = llti, blockimage = bi4se, searchtype = ljubljana, method = hamming)

# Start the search
bmstart()

# Display the blockmodel (should yield a single one)
bmview(blockmodel = bm_llti_bi4se_0)

# The optimal partition should be:
# (Ron, Frank, Boyd, Tim)
# (John, Jerry, Darrin, Ben, Arnie)
# (Tom)
# (Jeff, Jay, Sandy)

# The optimal goodness-of-fit should be:
# 20 (hamming)